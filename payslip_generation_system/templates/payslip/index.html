{% extends "includes/layout.html" %}
{% block title %}Make Adjustments{% endblock title %}
{% block layout_content %}
<div class="card card-outline card-success">
  <div class="card-header">
    <h3 class="card-title">Make Adjustments | Employee List</h3>
  </div>
  <div class="card-body">
    <table id="listTable" class="table table-responsive table-striped table-bordered table-sm" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th>Employee Number</th>
                <th>Full Name</th>
                <th>Position</th>
                <th>Fund Source</th>
                <th>Salary</th>
                <th>Tax Declaration</th>
                <th>CSC Eligibility</th>
                <th>Action</th>
            </tr>
        </thead>
        <!-- Employee Rows -->
    </table>
  </div>
</div>

<script>
$(document).ready(function() {
    // Data
    $('#listTable').DataTable({
        processing: true,
        serverSide: true,
        ajax: "{% url 'payslip_employee_data' %}"
    })

    // Adjustments
    $(document).on('click', '.adjustments-btn', function() {
        var empId = $(this).data('id');
        window.location.href = '/payslip/adjustment/' + empId + '/';
    });
})
</script>
{% endblock %}